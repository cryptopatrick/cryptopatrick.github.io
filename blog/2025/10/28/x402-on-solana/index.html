<!DOCTYPE html>
<html lang="en-EN">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=60544&amp;path=livereload" data-no-instant defer></script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta content="keyword 1, keyword 2, keyword 3" name="keywords">
<meta content="CryptoPatrick" name="author">
<meta property="og:title" content="üîê x402 on Solana  - Seamless Global Nature">
<meta property="og:url" content="http://localhost:60544/blog/2025/10/28/x402-on-solana/">
<meta property="og:description" content="">
<meta property="og:type" content="website" />


<meta property="og:image" content="http://localhost:60544/img/post-name/name.jpg" />


<title>üîê x402 on Solana  | Seamless Global Nature</title>

<link rel="stylesheet" href="http://localhost:60544//css/style.css">
<link rel="stylesheet" href="http://localhost:60544//css/customcode.css">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<link rel="stylesheet"
      href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.0/build/styles/default.min.css">

</head>

<body>
<section class="section">
  <div class="container">
    <nav class="nav">

 <img src="../../../../../profile.jpg" alt="Avatar" style="margin-right: 1em" height="100px">
      <div class="nav-left" style="flex-basis: auto;">
        <a class="nav-item" href="http://localhost:60544/"><h1 class="title is-4">Seamless Global Nature</h1></a>
      <nav class="nav-item level is-mobile">
          
          
          <a class="level-item" href="http://localhost:60544/about/" style="display: flex; align-items: center;">
            
            <span class="icon" style="margin-right: 0.175em; display: flex; align-items: center;">
              <i class="fa fa-male"></i>
            </span>
            
            About Me
          </a>
          
          <a class="level-item" href="http://localhost:60544/tags/" style="display: flex; align-items: center;">
            
            <span class="icon" style="margin-right: 0.175em; display: flex; align-items: center;">
              <i class="fa fa-tags"></i>
            </span>
            
            Tags
          </a>
          
          <a class="level-item" href="https://100-days-of-vibe.vercel.app" style="display: flex; align-items: center;">
            
            <span class="icon" style="margin-right: 0.175em; display: flex; align-items: center;">
              <i class="fa fa-paper-plane"></i>
            </span>
            
            100DaysOfVibe
          </a>
          
          <a class="level-item" href="https://x.com/cryptopatrick" style="display: flex; align-items: center;">
            
            <span class="icon" style="margin-right: 0.175em; display: flex; align-items: center;">
              <i class="fa fa-twitter"></i>
            </span>
            
             
          </a>
          
          <a class="level-item" href="https://github.com/cryptopatrick?tab=repositories" style="display: flex; align-items: center;">
            
            <span class="icon" style="margin-right: 0.175em; display: flex; align-items: center;">
              <i class="fa fa-github"></i>
            </span>
            
             
          </a>
          
          <a class="level-item" href="https://www.instagram.com/cryptopatrickk/" style="display: flex; align-items: center;">
            
            <span class="icon" style="margin-right: 0.175em; display: flex; align-items: center;">
              <i class="fa fa-instagram"></i>
            </span>
            
             
          </a>
          
        </nav>
      </div>
      <div class="nav-right">
        <nav class="nav-item level is-mobile">
          
        </nav>
      </div>
    </nav>
  </div>
</section>

<section class="section">
  <div class="container">
    <h1 class="title">üîê x402 on Solana </h1>
    
    
    <h2 class="subtitle is-5">
      October 28, 2025
       by CryptoPatrick
      
        
        <span class="tags-inline" style="margin-left:0.1em;">
          
            
            <a class="tag is-link is-light" href="../../../../../tags/mathematics/" style="margin-left:0.25em;">Mathematics</a>
          
            
            <a class="tag is-link is-light" href="../../../../../tags/security/" style="margin-left:0.25em;">Security</a>
          
        </span>
      
      
    </h2>
    <div class="content">
      <!-- ////////////////////////////////////////////////////////////////////////-->
<p><img src="https://img.shields.io/badge/Work_In_Progress-orange.svg" alt="Version:0.1.0">
<img src="https://img.shields.io/badge/Text_Version-0.4.5-blue.svg" alt="Version:0.1.0">
<img src="https://img.shields.io/badge/Source_Code_Builds-Yes-green.svg" alt="Version:0.1.0"></p>
<!-- ////////////////////////////////////////////////////////////////////////-->
<br>
<blockquote>
<p><strong>Preface:</strong> x402 is an open payment standard.</p>
</blockquote>
<p>The x402 protocol was created by the cryptocurrency
exchange CoinBase. It is based on the dormant <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Status/402">HTTP 402 Payment Required status code</a>.</p>
<p>TL;DR</p>
<pre><code>The Problem: A critical, high-traffic payment service written in Go was becoming CPU-bound, leading to high operational costs and scalability risks.
The Action: We identified the most CPU-intensive API endpoints and rewrote them in Rust, a language renowned for its performance and memory efficiency. We kept the rest of the service in Go.
The Result: The new Rust implementation handled 2x the traffic of the original service with lower latency and a fraction of the CPU and memory usage. This performance boost translates to a projected annual cost saving of nearly $300,0002.
</code></pre>
<p>License Apache 2.0</p>
<h3 id="why-x402">Why x402?</h3>
<p>x402 removes those dependencies, enabling programmatic, HTTP-native payments (perfect for AI agents) while dropping fees to near‚Äëzero and settling in ~1 second.</p>
<p>Existing payment systems, like Stripe and ?, have limitations:</p>
<ul>
<li>high fees</li>
<li>imcompatible with machine-to-machine payments</li>
<li>not geared toward micropaymets</li>
</ul>
<h3 id="who-can-use-x402">Who can use x402?</h3>
<p>If I want to sell something online, for example API calls or access to conent like images, then the protocol makes int easy.</p>
<p>Buyers - both human and agent - can access paid services
without setting up on account with the provider or
go through the hassle of paying with their debit card.</p>
<h3 id="how">How?</h3>
<p>The communication between buyer and selller goes through
the HTTP protocol.</p>
<p>pay per request
per  for acccess</p>
<h3 id="pricing">Pricing</h3>
<p>How should we price our endpoint? Common patterns are:</p>
<ul>
<li>Flat per‚Äëcall (e.g., $0.001 per request)</li>
<li>Tiered (/basic vs /pro endpoints with different prices)</li>
<li>Up‚Äëto (work in progress): &ldquo;pay‚Äëup‚Äëto&rdquo; where the final cost equals usage (tokens, MB, etc.)</li>
</ul>
<h3 id="fiat">Fiat</h3>
<p>Does x402 support fiat off‚Äëramps or credit‚Äëcard deposits?
Not natively. But facilitators can wrap x402 flows with on‚Äë and off‚Äëramps.</p>
<h3 id="keys">Keys</h3>
<p>What about keys? Are they exposed or stored?
No. The recommended pattern is:</p>
<ul>
<li>Buyers (clients/agents) : sign locally in the runtime (browser, serverless, agent VM).</li>
<li>Sellers never hold the buyer&rsquo;s key; they only verify signatures.</li>
</ul>
<h4 id="refunds">Refunds</h4>
<p>Are refunds possible? Yes!
The <code>exact</code> scheme is a <em>push payment</em>. However, it&rsquo;s is irreversible once executed.
There are two options:</p>
<ul>
<li>Business‚Äëlogic refunds: seller sends a new USDC transfer back to the buyer.</li>
<li>Escrow schemes:  conditional transfers (e.g., HTLCs or hold invoices).</li>
</ul>
<h3 id="wallet">Wallet</h3>
<p>Do the agent need a wallet? Yes!</p>
<blockquote>
<p><em>Lookup:</em> Programmatic wallets (e.g., CDP Wallet API, viem, ethers‚Äëv6 HD wallets), wallets which let agents sign EIP‚Äë712 payloads without exposing seed phrases.</p>
</blockquote>
<h3 id="troubleshooting">Troubleshooting</h3>
<ol>
<li>I keep getting 402 Payment Required, even after attaching X‚ÄëPAYMENT. Why?</li>
</ol>
<ul>
<li>Signature is invalid (wrong chain ID or payload fields).</li>
<li>Payment amount &lt; maxAmountRequired.</li>
<li>Address has insufficient USDC or was flagged by KYT.</li>
<li>Check the error field in the server&rsquo;s JSON response for details.</li>
</ul>
<ol start="2">
<li>My test works on Base Sepolia but fails on Base mainnet‚Äîwhat changed?</li>
</ol>
<ul>
<li>Ensure you set network: &ldquo;base&rdquo; (not &ldquo;base‚Äësepolia&rdquo;).</li>
<li>Confirm your wallet has mainnet USDC.</li>
<li>Gas fees are higher on mainnet; fund the wallet with a small amount of ETH for gas.</li>
</ul>
<hr>
<h3 id="roadmap">Roadmap</h3>
<p>What&rsquo;s in the future for the protocol?</p>
<ul>
<li>Multi‚Äëasset support</li>
<li>Additional schemes (upto, stream, permit2)</li>
<li>Discovery layer for service search &amp; reputation</li>
<li>privacy, reputation,</li>
</ul>
<hr>
<h3 id="facilitator">Facilitator</h3>
<p>endpoints:</p>
<ul>
<li><code>/verify</code></li>
<li><code>/settle</code></li>
</ul>
<h3 id="the-context-a-victim-of-its-own-success">The Context: A Victim of Its Own Success</h3>
<h3 id="the-process-a-victim-of-its-own-success">The Process: A Victim of Its Own Success</h3>
<!-- ////////////////////////////////////////////////////////////////////////-->
<h2 id="heading">Heading</h2>
<p><figure><img src="../../../../../img/time-lock-message/rebellion.jpg">
</figure>
<br>
<strong>‚ñ≤[^1]</strong> A Rebel ship orbiting above the Federation&rsquo;s top secret military research lab, <em>The Periphery</em>.</p>
<h3 id="what-is-it">What is it?</h3>
<h3 id="do-we-need-it">Do we need it?</h3>
<p>‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä Nope! You honest(ly don&rsquo;t <em>need</em> x402 for that.
But what if your agent needs to access a research papter which turns out being
behind a pay wall? Or, there might be a LLM model like, Gemini, which charges per token.
Just as there are free APIs, there are APIs (or other services) which require payment.
What&rsquo;s needed is a way for Agents to autonomously 1) sign up and 2) pay to use a non-free API.</p>
<p>That&rsquo;s! where the x402 protocol comes in play.
It enables the Agent to <strong>pay per request</strong> without having to register with every
service that it want to interact with.
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä This is another paragraph.</p>
<blockquote>
<p><strong>Today:</strong> The current model that we&rsquo;re seing with <em>web2</em> services, is that of subscriptions for APi services, and API keys as a way to enable pay wall mechanisms.</p>
</blockquote>
<p>x402 brings native payments to the web and to agents.</p>
<hr>
<h2 id="faq">FAQ</h2>
<blockquote>
<blockquote>
<blockquote>
<p>Curious how this affect stripe‚Äôs business in general
x402 feels more like creating a new category than directly competing with stripe&rsquo;s core business.
stripe will probably add crypto settlement (maybe w/ tempo) but really depends on how fast agentic AI actually starts transacting at scale&hellip;</p>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>real question is WHY this is necesarry?
because the current payment rails are designed for humans with accounts, not ai agents
and this ai economy is pretty important right now</p>
</blockquote>
</blockquote>
</blockquote>
<p>Ok so let&rsquo;s say AI bot asks Grok to draw a meme, why it should pay for it?
Most of products are &ldquo;free&rdquo; (using clients information or actions as a fee)
Not a hater, i like token hype on this stuff</p>
<blockquote>
<blockquote>
<blockquote>
<p>nah you don&rsquo;t need x402 for that, but what if your agent needs to access a paywalled research paper or use a gpt model that charges per token</p>
</blockquote>
</blockquote>
</blockquote>
<p>these aren&rsquo;t &ldquo;free&rdquo; APIs - they require api keys, and payment setup. right now your agent can&rsquo;t autonomously sign up and pay for these on its own</p>
<p>x402 lets the agent just pay per request without you having to pre-register with every single service</p>
<p>Is there not a closed loop step between 4 and 5? Does the client just keep polling until success?</p>
<h2 id="great-but-why-does-the-client-need-to-send-the-request-twice-instead-of-the-server-providing-the-data-immediately-after-the-payment-is-confirmed-on-the-blockchain">Great, but why does the Client need to send the request twice instead of the Server providing the data immediately after the payment is confirmed on the blockchain?</h2>
<p>x402 is a cool attempt to add a payment layer on top of the Internet.üßê
It uses the old HTTP protocol, adding crypto payments to it as a &ldquo;plugin&rdquo;.
In other words, it‚Äôs an overlay - a bridge between Web2 and Web3.ü§ì
But üí≥ - a non-custodial wallet can be embedded directly into websites domains, and apps&hellip; oops, I think I just spoiled something.</p>
<p>Coral supports all open agentic standards (A2A, AP2, and x402) helping devs build AI software without any hassle.</p>
<p>Imagine the internet is like a big playground. Sometimes, to get a toy or story, you need to give a tiny coin.</p>
<p>x402 is a magic way for websites to say, &ldquo;Give me a penny for this info!&rdquo; You pay super fast with invisible money, no ads or monthly fees.</p>
<p>It&rsquo;s for robots (AI) to buy data easily, like trading stickers. The picture shows steps: ask, pay, get stuff!</p>
<p>Fact, that my agent can manage my payments - scary. So new protocol should be x403, for the incoming payments from the random places (just sitting, AI works and send money to you lol)
This explanation is really fascinating, thanks.</p>
<p>x402 basically makes every API call or AI agent interaction a tiny iinstant txn</p>
<p>web3 infra  is really quietly evolving right under our noses</p>
<p>What helped me understand X402 is realizing that HTTP 402 errors are like 404s, but they appear when you hit paywalled content.</p>
<p>X402 is designed to prevent that, it lets your browser handle payments or crypto transactions automatically (via local storage or wallet integrations), so you don‚Äôt actually hit a 402 error in the first place</p>




    </div>
    
    
  </div>
</section>

<section class="section">
  <div class="container has-text-centered">
    <p>'I write to understand as much as to be understood.' ‚ÄîElie Wiesel<br> (c) 2024 CryptoPatrick</p>
  </div>
</section>

<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.0/build/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>




</body>
