<!DOCTYPE html>
<html lang="en-EN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta content="keyword 1, keyword 2, keyword 3" name="keywords">
<meta content="CryptoPatrick" name="author">
<meta property="og:title" content="ü¶Ä miniFIX Tutorial | Part 06 - Seamless Global Nature">
<meta property="og:url" content="https://www.cryptopatrick.com/blog/2025/09/20/minifix-tutorial-part-06/">
<meta property="og:description" content="">
<meta property="og:type" content="website" />



<title>ü¶Ä miniFIX Tutorial | Part 06 | Seamless Global Nature</title>

<link rel="stylesheet" href="https://www.cryptopatrick.com//css/style.css">
<link rel="stylesheet" href="https://www.cryptopatrick.com//css/customcode.css">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<link rel="stylesheet"
      href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.0/build/styles/default.min.css">

</head>

<body>
<section class="section">
  <div class="container">
    <nav class="nav">

 <img src="../../../../../profile.jpg" alt="Avatar" style="margin-right: 1em" height="100px">
      <div class="nav-left" style="flex-basis: auto;">
        <a class="nav-item" href="https://www.cryptopatrick.com/"><h1 class="title is-4">Seamless Global Nature</h1></a>
      <nav class="nav-item level is-mobile">
          
          
          <a class="level-item" href="https://www.cryptopatrick.com/about/" style="display: flex; align-items: center;">
            
            <span class="icon" style="margin-right: 0.175em; display: flex; align-items: center;">
              <i class="fa fa-male"></i>
            </span>
            
            About Me
          </a>
          
          <a class="level-item" href="https://www.cryptopatrick.com/tags/" style="display: flex; align-items: center;">
            
            <span class="icon" style="margin-right: 0.175em; display: flex; align-items: center;">
              <i class="fa fa-tags"></i>
            </span>
            
            Tags
          </a>
          
          <a class="level-item" href="https://100-days-of-vibe.vercel.app" style="display: flex; align-items: center;">
            
            <span class="icon" style="margin-right: 0.175em; display: flex; align-items: center;">
              <i class="fa fa-paper-plane"></i>
            </span>
            
            100DaysOfVibe
          </a>
          
          <a class="level-item" href="https://x.com/cryptopatrick" style="display: flex; align-items: center;">
            
            <span class="icon" style="margin-right: 0.175em; display: flex; align-items: center;">
              <i class="fa fa-twitter"></i>
            </span>
            
             
          </a>
          
          <a class="level-item" href="https://github.com/cryptopatrick?tab=repositories" style="display: flex; align-items: center;">
            
            <span class="icon" style="margin-right: 0.175em; display: flex; align-items: center;">
              <i class="fa fa-github"></i>
            </span>
            
             
          </a>
          
          <a class="level-item" href="https://www.instagram.com/cryptopatrickk/" style="display: flex; align-items: center;">
            
            <span class="icon" style="margin-right: 0.175em; display: flex; align-items: center;">
              <i class="fa fa-instagram"></i>
            </span>
            
             
          </a>
          
        </nav>
      </div>
      <div class="nav-right">
        <nav class="nav-item level is-mobile">
          
        </nav>
      </div>
    </nav>
  </div>
</section>

<section class="section">
  <div class="container">
    <h1 class="title">ü¶Ä miniFIX Tutorial | Part 06</h1>
    
    
    <h2 class="subtitle is-5">
      September 20, 2025
       by CryptoPatrick
      
        
        <span class="tags-inline" style="margin-left:0.1em;">
          
            
            <a class="tag is-link is-light" href="../../../../../tags/rust/" style="margin-left:0.25em;">Rust</a>
          
            
            <a class="tag is-link is-light" href="../../../../../tags/tutorials/" style="margin-left:0.25em;">Tutorials</a>
          
        </span>
      
      
    </h2>
    <div class="content">
      <h1 id="building-an-interactive-trading-client-with-minifix-and-tokio">Building an Interactive Trading Client with miniFIX and Tokio</h1>
<h2 id="introduction">Introduction</h2>
<p>Modern trading systems require interactive, user-friendly interfaces that can handle real-time market data and order management. This post explores building an interactive trading client using miniFIX with Tokio for async operations, combined with a command-line interface for trader interaction.</p>
<h2 id="what-youll-learn">What You&rsquo;ll Learn</h2>
<ul>
<li>Creating interactive trading applications with miniFIX</li>
<li>Integrating async Rust (Tokio) with FIX protocols</li>
<li>Building user prompts and input validation</li>
<li>Code generation for trading-specific field types</li>
<li>Designing modular trading client architecture</li>
</ul>
<h2 id="the-vision-an-interactive-trading-terminal">The Vision: An Interactive Trading Terminal</h2>
<p>Imagine a terminal application where traders can:</p>
<ul>
<li>Enter new orders interactively</li>
<li>Choose from validated options for sides, order types, etc.</li>
<li>See real-time confirmations</li>
<li>Manage their trading session</li>
</ul>
<h2 id="project-structure">Project Structure</h2>
<p>The trading client uses code generation to create type-safe field definitions:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#95a5a6">// Generated from FIX specification
</span></span></span><span style="display:flex;"><span><span style="color:#95a5a6"></span><span style="color:#728e00">#[allow(dead_code)]</span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">#[rustfmt::skip]</span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">mod</span> <span style="color:#434f54">generated_fix42</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">use</span> <span style="color:#434f54">core</span>::<span style="color:#434f54">fmt</span>;
</span></span><span style="display:flex;"><span><span style="color:#728e00">use</span> <span style="color:#434f54">minifix</span>::<span style="color:#434f54">definitions</span>::<span style="color:#434f54">fix42</span>;
</span></span><span style="display:flex;"><span><span style="color:#728e00">use</span> <span style="color:#434f54">minifix</span>::<span style="color:#434f54">FieldType</span>;
</span></span><span style="display:flex;"><span><span style="color:#728e00">use</span> <span style="color:#434f54">generated_fix42</span> <span style="color:#728e00">as</span> <span style="color:#434f54">strum_fix42</span>;
</span></span><span style="display:flex;"><span><span style="color:#728e00">use</span> <span style="color:#434f54">strum</span>::<span style="color:#434f54">IntoEnumIterator</span>;
</span></span></code></pre></div><h2 id="interactive-user-prompts">Interactive User Prompts</h2>
<p>The heart of an interactive trading client is gathering user input safely and intuitively:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#728e00">use</span> <span style="color:#434f54">inquire</span>::{<span style="color:#434f54">Select</span>, <span style="color:#434f54">Text</span>, <span style="color:#434f54">CustomType</span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">#[derive(Debug, Clone)]</span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">enum</span> <span style="color:#434f54">UserAction</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">EnterOrder</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">ViewPositions</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">CancelOrder</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">Quit</span>,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">fn</span> <span style="color:#d35400">prompt_user_action</span>() -&gt; <span style="color:#434f54">anyhow</span>::<span style="color:#728e00">Result</span><span style="color:#728e00">&lt;</span><span style="color:#434f54">UserAction</span><span style="color:#728e00">&gt;</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">let</span> <span style="color:#434f54">options</span> <span style="color:#728e00">=</span> <span style="color:#434f54">vec!</span>[
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">UserAction</span>::<span style="color:#434f54">EnterOrder</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">UserAction</span>::<span style="color:#434f54">ViewPositions</span>, 
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">UserAction</span>::<span style="color:#434f54">CancelOrder</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">UserAction</span>::<span style="color:#434f54">Quit</span>,
</span></span><span style="display:flex;"><span>    ];
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">let</span> <span style="color:#434f54">selection</span> <span style="color:#728e00">=</span> <span style="color:#434f54">Select</span>::<span style="color:#434f54">new</span>(<span style="color:#7f8c8d">&#34;What would you like to do?&#34;</span>, <span style="color:#434f54">options</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#434f54">prompt</span>()<span style="color:#728e00">?</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">Ok</span>(<span style="color:#434f54">selection</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="order-entry-flow">Order Entry Flow</h2>
<p>Let&rsquo;s build a comprehensive order entry flow with validation:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#728e00">fn</span> <span style="color:#d35400">prompt_symbol</span>() -&gt; <span style="color:#434f54">anyhow</span>::<span style="color:#728e00">Result</span><span style="color:#728e00">&lt;</span><span style="color:#728e00">String</span><span style="color:#728e00">&gt;</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">Text</span>::<span style="color:#434f54">new</span>(<span style="color:#7f8c8d">&#34;Symbol (e.g., AAPL, TSLA):&#34;</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#434f54">with_validator</span>(<span style="color:#728e00">|</span><span style="color:#434f54">input</span>: <span style="color:#00979d">&amp;</span><span style="color:#00979d">str</span><span style="color:#728e00">|</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#728e00">if</span> <span style="color:#434f54">input</span>.<span style="color:#434f54">len</span>() <span style="color:#728e00">&gt;=</span> <span style="color:#8a7b52">1</span> <span style="color:#728e00">&amp;&amp;</span> <span style="color:#434f54">input</span>.<span style="color:#434f54">len</span>() <span style="color:#728e00">&lt;=</span> <span style="color:#8a7b52">12</span> <span style="color:#728e00">&amp;&amp;</span> <span style="color:#434f54">input</span>.<span style="color:#434f54">chars</span>().<span style="color:#434f54">all</span>(<span style="color:#728e00">|</span><span style="color:#434f54">c</span><span style="color:#728e00">|</span> <span style="color:#434f54">c</span>.<span style="color:#434f54">is_ascii_alphanumeric</span>()) {
</span></span><span style="display:flex;"><span>                <span style="color:#728e00">Ok</span>(())
</span></span><span style="display:flex;"><span>            } <span style="color:#728e00">else</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#728e00">Err</span>(<span style="color:#7f8c8d">&#34;Symbol must be 1-12 alphanumeric characters&#34;</span>)
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>        .<span style="color:#434f54">prompt</span>()
</span></span><span style="display:flex;"><span>        .<span style="color:#434f54">map_err</span>(<span style="color:#728e00">Into</span>::<span style="color:#434f54">into</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">fn</span> <span style="color:#d35400">prompt_side</span>() -&gt; <span style="color:#434f54">anyhow</span>::<span style="color:#728e00">Result</span><span style="color:#728e00">&lt;</span><span style="color:#434f54">fix42</span>::<span style="color:#434f54">Side</span><span style="color:#728e00">&gt;</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">let</span> <span style="color:#434f54">options</span> <span style="color:#728e00">=</span> <span style="color:#434f54">vec!</span>[
</span></span><span style="display:flex;"><span>        (<span style="color:#7f8c8d">&#34;Buy&#34;</span>, <span style="color:#434f54">fix42</span>::<span style="color:#434f54">Side</span>::<span style="color:#434f54">Buy</span>),
</span></span><span style="display:flex;"><span>        (<span style="color:#7f8c8d">&#34;Sell&#34;</span>, <span style="color:#434f54">fix42</span>::<span style="color:#434f54">Side</span>::<span style="color:#434f54">Sell</span>),
</span></span><span style="display:flex;"><span>    ];
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">let</span> <span style="color:#434f54">selection</span> <span style="color:#728e00">=</span> <span style="color:#434f54">Select</span>::<span style="color:#434f54">new</span>(<span style="color:#7f8c8d">&#34;Side:&#34;</span>, <span style="color:#434f54">options</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#434f54">prompt</span>()<span style="color:#728e00">?</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">Ok</span>(<span style="color:#434f54">selection</span>.<span style="color:#8a7b52">1</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">fn</span> <span style="color:#d35400">prompt_order_type</span>() -&gt; <span style="color:#434f54">anyhow</span>::<span style="color:#728e00">Result</span><span style="color:#728e00">&lt;</span><span style="color:#434f54">fix42</span>::<span style="color:#434f54">OrdType</span><span style="color:#728e00">&gt;</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">let</span> <span style="color:#434f54">options</span> <span style="color:#728e00">=</span> <span style="color:#434f54">vec!</span>[
</span></span><span style="display:flex;"><span>        (<span style="color:#7f8c8d">&#34;Market&#34;</span>, <span style="color:#434f54">fix42</span>::<span style="color:#434f54">OrdType</span>::<span style="color:#434f54">Market</span>),
</span></span><span style="display:flex;"><span>        (<span style="color:#7f8c8d">&#34;Limit&#34;</span>, <span style="color:#434f54">fix42</span>::<span style="color:#434f54">OrdType</span>::<span style="color:#434f54">Limit</span>),
</span></span><span style="display:flex;"><span>        (<span style="color:#7f8c8d">&#34;Stop&#34;</span>, <span style="color:#434f54">fix42</span>::<span style="color:#434f54">OrdType</span>::<span style="color:#434f54">Stop</span>),
</span></span><span style="display:flex;"><span>        (<span style="color:#7f8c8d">&#34;Stop Limit&#34;</span>, <span style="color:#434f54">fix42</span>::<span style="color:#434f54">OrdType</span>::<span style="color:#434f54">StopLimit</span>),
</span></span><span style="display:flex;"><span>    ];
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">let</span> <span style="color:#434f54">selection</span> <span style="color:#728e00">=</span> <span style="color:#434f54">Select</span>::<span style="color:#434f54">new</span>(<span style="color:#7f8c8d">&#34;Order Type:&#34;</span>, <span style="color:#434f54">options</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#434f54">prompt</span>()<span style="color:#728e00">?</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">Ok</span>(<span style="color:#434f54">selection</span>.<span style="color:#8a7b52">1</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">fn</span> <span style="color:#d35400">prompt_time_in_force</span>() -&gt; <span style="color:#434f54">anyhow</span>::<span style="color:#728e00">Result</span><span style="color:#728e00">&lt;</span><span style="color:#434f54">fix42</span>::<span style="color:#434f54">TimeInForce</span><span style="color:#728e00">&gt;</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">let</span> <span style="color:#434f54">options</span> <span style="color:#728e00">=</span> <span style="color:#434f54">vec!</span>[
</span></span><span style="display:flex;"><span>        (<span style="color:#7f8c8d">&#34;Day&#34;</span>, <span style="color:#434f54">fix42</span>::<span style="color:#434f54">TimeInForce</span>::<span style="color:#434f54">Day</span>),
</span></span><span style="display:flex;"><span>        (<span style="color:#7f8c8d">&#34;Good Till Cancel&#34;</span>, <span style="color:#434f54">fix42</span>::<span style="color:#434f54">TimeInForce</span>::<span style="color:#434f54">GoodTillCancel</span>),
</span></span><span style="display:flex;"><span>        (<span style="color:#7f8c8d">&#34;Immediate or Cancel&#34;</span>, <span style="color:#434f54">fix42</span>::<span style="color:#434f54">TimeInForce</span>::<span style="color:#434f54">ImmediateOrCancel</span>),
</span></span><span style="display:flex;"><span>        (<span style="color:#7f8c8d">&#34;Fill or Kill&#34;</span>, <span style="color:#434f54">fix42</span>::<span style="color:#434f54">TimeInForce</span>::<span style="color:#434f54">FillOrKill</span>),
</span></span><span style="display:flex;"><span>    ];
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">let</span> <span style="color:#434f54">selection</span> <span style="color:#728e00">=</span> <span style="color:#434f54">Select</span>::<span style="color:#434f54">new</span>(<span style="color:#7f8c8d">&#34;Time in Force:&#34;</span>, <span style="color:#434f54">options</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#434f54">prompt</span>()<span style="color:#728e00">?</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">Ok</span>(<span style="color:#434f54">selection</span>.<span style="color:#8a7b52">1</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">fn</span> <span style="color:#d35400">prompt_price</span>() -&gt; <span style="color:#434f54">anyhow</span>::<span style="color:#728e00">Result</span><span style="color:#728e00">&lt;</span><span style="color:#434f54">rust_decimal</span>::<span style="color:#434f54">Decimal</span><span style="color:#728e00">&gt;</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">CustomType</span>::<span style="color:#728e00">&lt;</span><span style="color:#434f54">rust_decimal</span>::<span style="color:#434f54">Decimal</span><span style="color:#728e00">&gt;</span>::<span style="color:#434f54">new</span>(<span style="color:#7f8c8d">&#34;Price:&#34;</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#434f54">with_error_message</span>(<span style="color:#7f8c8d">&#34;Please enter a valid price&#34;</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#434f54">prompt</span>()
</span></span><span style="display:flex;"><span>        .<span style="color:#434f54">map_err</span>(<span style="color:#728e00">Into</span>::<span style="color:#434f54">into</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">fn</span> <span style="color:#d35400">prompt_quantity</span>() -&gt; <span style="color:#434f54">anyhow</span>::<span style="color:#728e00">Result</span><span style="color:#728e00">&lt;</span><span style="color:#00979d">u64</span><span style="color:#728e00">&gt;</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">CustomType</span>::<span style="color:#728e00">&lt;</span><span style="color:#00979d">u64</span><span style="color:#728e00">&gt;</span>::<span style="color:#434f54">new</span>(<span style="color:#7f8c8d">&#34;Quantity:&#34;</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#434f54">with_error_message</span>(<span style="color:#7f8c8d">&#34;Please enter a valid quantity&#34;</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#434f54">prompt</span>()
</span></span><span style="display:flex;"><span>        .<span style="color:#434f54">map_err</span>(<span style="color:#728e00">Into</span>::<span style="color:#434f54">into</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="order-management-structure">Order Management Structure</h2>
<p>Define structures to manage orders and trading state:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#728e00">use</span> <span style="color:#434f54">uuid</span>::<span style="color:#434f54">Uuid</span>;
</span></span><span style="display:flex;"><span><span style="color:#728e00">use</span> <span style="color:#434f54">chrono</span>::{<span style="color:#434f54">DateTime</span>, <span style="color:#434f54">Utc</span>};
</span></span><span style="display:flex;"><span><span style="color:#728e00">use</span> <span style="color:#434f54">rust_decimal</span>::<span style="color:#434f54">Decimal</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">#[derive(Debug, Clone)]</span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">pub</span> <span style="color:#728e00">struct</span> <span style="color:#434f54">OrderRequest</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">pub</span> <span style="color:#434f54">client_order_id</span>: <span style="color:#728e00">String</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">pub</span> <span style="color:#434f54">symbol</span>: <span style="color:#728e00">String</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">pub</span> <span style="color:#434f54">side</span>: <span style="color:#434f54">fix42</span>::<span style="color:#434f54">Side</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">pub</span> <span style="color:#434f54">order_type</span>: <span style="color:#434f54">fix42</span>::<span style="color:#434f54">OrdType</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">pub</span> <span style="color:#434f54">time_in_force</span>: <span style="color:#434f54">fix42</span>::<span style="color:#434f54">TimeInForce</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">pub</span> <span style="color:#434f54">quantity</span>: <span style="color:#00979d">u64</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">pub</span> <span style="color:#434f54">price</span>: <span style="color:#728e00">Option</span><span style="color:#728e00">&lt;</span><span style="color:#434f54">Decimal</span><span style="color:#728e00">&gt;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">pub</span> <span style="color:#434f54">account</span>: <span style="color:#728e00">String</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">pub</span> <span style="color:#434f54">sender_comp_id</span>: <span style="color:#728e00">String</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">pub</span> <span style="color:#434f54">target_comp_id</span>: <span style="color:#728e00">String</span>,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">impl</span> <span style="color:#434f54">OrderRequest</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">fn</span> <span style="color:#d35400">new</span>() -&gt; <span style="color:#434f54">Self</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">Self</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">client_order_id</span>: <span style="color:#434f54">Uuid</span>::<span style="color:#434f54">new_v4</span>().<span style="color:#434f54">to_string</span>(),
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">symbol</span>: <span style="color:#728e00">String</span>::<span style="color:#434f54">new</span>(),
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">side</span>: <span style="color:#434f54">fix42</span>::<span style="color:#434f54">Side</span>::<span style="color:#434f54">Buy</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">order_type</span>: <span style="color:#434f54">fix42</span>::<span style="color:#434f54">OrdType</span>::<span style="color:#434f54">Market</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">time_in_force</span>: <span style="color:#434f54">fix42</span>::<span style="color:#434f54">TimeInForce</span>::<span style="color:#434f54">Day</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">quantity</span>: <span style="color:#8a7b52">0</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">price</span>: <span style="color:#728e00">None</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">account</span>: <span style="color:#728e00">String</span>::<span style="color:#434f54">new</span>(),
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">sender_comp_id</span>: <span style="color:#728e00">String</span>::<span style="color:#434f54">new</span>(),
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">target_comp_id</span>: <span style="color:#728e00">String</span>::<span style="color:#434f54">new</span>(),
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">#[derive(Debug)]</span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">pub</span> <span style="color:#728e00">struct</span> <span style="color:#434f54">TradingSession</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">pub</span> <span style="color:#434f54">orders</span>: <span style="color:#728e00">Vec</span><span style="color:#728e00">&lt;</span><span style="color:#434f54">OrderRequest</span><span style="color:#728e00">&gt;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">pub</span> <span style="color:#434f54">sequence_number</span>: <span style="color:#00979d">u32</span>,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">impl</span> <span style="color:#434f54">TradingSession</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">fn</span> <span style="color:#d35400">new</span>() -&gt; <span style="color:#434f54">Self</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">Self</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">orders</span>: <span style="color:#728e00">Vec</span>::<span style="color:#434f54">new</span>(),
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">sequence_number</span>: <span style="color:#8a7b52">1</span>,
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">fn</span> <span style="color:#d35400">next_sequence</span>(<span style="color:#728e00">&amp;</span><span style="color:#728e00">mut</span> <span style="color:#434f54">self</span>) -&gt; <span style="color:#00979d">u32</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#728e00">let</span> <span style="color:#434f54">seq</span> <span style="color:#728e00">=</span> <span style="color:#434f54">self</span>.<span style="color:#434f54">sequence_number</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">self</span>.<span style="color:#434f54">sequence_number</span> <span style="color:#728e00">+=</span> <span style="color:#8a7b52">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">seq</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="complete-order-entry-flow">Complete Order Entry Flow</h2>
<p>Here&rsquo;s how the complete interactive flow works:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#728e00">async</span> <span style="color:#728e00">fn</span> <span style="color:#d35400">handle_enter_order</span>(<span style="color:#434f54">session</span>: <span style="color:#00979d">&amp;</span><span style="color:#434f54">mut</span> <span style="color:#434f54">TradingSession</span>) -&gt; <span style="color:#434f54">anyhow</span>::<span style="color:#728e00">Result</span><span style="color:#728e00">&lt;</span>()<span style="color:#728e00">&gt;</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;üìã New Order Entry&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;==================&#34;</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#95a5a6">// Gather order details interactively
</span></span></span><span style="display:flex;"><span><span style="color:#95a5a6"></span>    <span style="color:#728e00">let</span> <span style="color:#434f54">symbol</span> <span style="color:#728e00">=</span> <span style="color:#434f54">prompt_symbol</span>()<span style="color:#728e00">?</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">let</span> <span style="color:#434f54">side</span> <span style="color:#728e00">=</span> <span style="color:#434f54">prompt_side</span>()<span style="color:#728e00">?</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">let</span> <span style="color:#434f54">order_type</span> <span style="color:#728e00">=</span> <span style="color:#434f54">prompt_order_type</span>()<span style="color:#728e00">?</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">let</span> <span style="color:#434f54">time_in_force</span> <span style="color:#728e00">=</span> <span style="color:#434f54">prompt_time_in_force</span>()<span style="color:#728e00">?</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">let</span> <span style="color:#434f54">quantity</span> <span style="color:#728e00">=</span> <span style="color:#434f54">prompt_quantity</span>()<span style="color:#728e00">?</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#95a5a6">// Price is only needed for limit orders
</span></span></span><span style="display:flex;"><span><span style="color:#95a5a6"></span>    <span style="color:#728e00">let</span> <span style="color:#434f54">price</span> <span style="color:#728e00">=</span> <span style="color:#728e00">match</span> <span style="color:#434f54">order_type</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">fix42</span>::<span style="color:#434f54">OrdType</span>::<span style="color:#434f54">Limit</span> <span style="color:#728e00">|</span> <span style="color:#434f54">fix42</span>::<span style="color:#434f54">OrdType</span>::<span style="color:#434f54">StopLimit</span> <span style="color:#728e00">=&gt;</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#728e00">Some</span>(<span style="color:#434f54">prompt_price</span>()<span style="color:#728e00">?</span>)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">_</span> <span style="color:#728e00">=&gt;</span> <span style="color:#728e00">None</span>
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#95a5a6">// System information
</span></span></span><span style="display:flex;"><span><span style="color:#95a5a6"></span>    <span style="color:#728e00">let</span> <span style="color:#434f54">sender_comp_id</span> <span style="color:#728e00">=</span> <span style="color:#434f54">Text</span>::<span style="color:#434f54">new</span>(<span style="color:#7f8c8d">&#34;SenderCompID:&#34;</span>).<span style="color:#434f54">prompt</span>()<span style="color:#728e00">?</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">let</span> <span style="color:#434f54">target_comp_id</span> <span style="color:#728e00">=</span> <span style="color:#434f54">Text</span>::<span style="color:#434f54">new</span>(<span style="color:#7f8c8d">&#34;TargetCompID:&#34;</span>).<span style="color:#434f54">prompt</span>()<span style="color:#728e00">?</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">let</span> <span style="color:#434f54">account</span> <span style="color:#728e00">=</span> <span style="color:#434f54">Text</span>::<span style="color:#434f54">new</span>(<span style="color:#7f8c8d">&#34;Account:&#34;</span>).<span style="color:#434f54">prompt</span>()<span style="color:#728e00">?</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#95a5a6">// Create order request
</span></span></span><span style="display:flex;"><span><span style="color:#95a5a6"></span>    <span style="color:#728e00">let</span> <span style="color:#728e00">mut</span> <span style="color:#434f54">order</span> <span style="color:#728e00">=</span> <span style="color:#434f54">OrderRequest</span>::<span style="color:#434f54">new</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">order</span>.<span style="color:#434f54">symbol</span> <span style="color:#728e00">=</span> <span style="color:#434f54">symbol</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">order</span>.<span style="color:#434f54">side</span> <span style="color:#728e00">=</span> <span style="color:#434f54">side</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">order</span>.<span style="color:#434f54">order_type</span> <span style="color:#728e00">=</span> <span style="color:#434f54">order_type</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">order</span>.<span style="color:#434f54">time_in_force</span> <span style="color:#728e00">=</span> <span style="color:#434f54">time_in_force</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">order</span>.<span style="color:#434f54">quantity</span> <span style="color:#728e00">=</span> <span style="color:#434f54">quantity</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">order</span>.<span style="color:#434f54">price</span> <span style="color:#728e00">=</span> <span style="color:#434f54">price</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">order</span>.<span style="color:#434f54">sender_comp_id</span> <span style="color:#728e00">=</span> <span style="color:#434f54">sender_comp_id</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">order</span>.<span style="color:#434f54">target_comp_id</span> <span style="color:#728e00">=</span> <span style="color:#434f54">target_comp_id</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">order</span>.<span style="color:#434f54">account</span> <span style="color:#728e00">=</span> <span style="color:#434f54">account</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#95a5a6">// Display order summary
</span></span></span><span style="display:flex;"><span><span style="color:#95a5a6"></span>    <span style="color:#434f54">display_order_summary</span>(<span style="color:#728e00">&amp;</span><span style="color:#434f54">order</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#95a5a6">// Confirm order
</span></span></span><span style="display:flex;"><span><span style="color:#95a5a6"></span>    <span style="color:#728e00">let</span> <span style="color:#434f54">confirm</span> <span style="color:#728e00">=</span> <span style="color:#434f54">inquire</span>::<span style="color:#434f54">Confirm</span>::<span style="color:#434f54">new</span>(<span style="color:#7f8c8d">&#34;Submit this order?&#34;</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#434f54">with_default</span>(<span style="color:#00979d">false</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#434f54">prompt</span>()<span style="color:#728e00">?</span>;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">if</span> <span style="color:#434f54">confirm</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#95a5a6">// Encode and send order
</span></span></span><span style="display:flex;"><span><span style="color:#95a5a6"></span>        <span style="color:#728e00">let</span> <span style="color:#434f54">fix_message</span> <span style="color:#728e00">=</span> <span style="color:#434f54">encode_new_order_single</span>(<span style="color:#728e00">&amp;</span><span style="color:#434f54">order</span>, <span style="color:#434f54">session</span>.<span style="color:#434f54">next_sequence</span>())<span style="color:#728e00">?</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;‚úÖ Order submitted successfully!&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;üì§ FIX Message: </span><span style="color:#7f8c8d">{}</span><span style="color:#7f8c8d">&#34;</span>, <span style="color:#728e00">String</span>::<span style="color:#434f54">from_utf8_lossy</span>(<span style="color:#728e00">&amp;</span><span style="color:#434f54">fix_message</span>));
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#95a5a6">// Store in session
</span></span></span><span style="display:flex;"><span><span style="color:#95a5a6"></span>        <span style="color:#434f54">session</span>.<span style="color:#434f54">orders</span>.<span style="color:#434f54">push</span>(<span style="color:#434f54">order</span>);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#95a5a6">// In a real application, you would send this over a network connection
</span></span></span><span style="display:flex;"><span><span style="color:#95a5a6"></span>        <span style="color:#95a5a6">// send_to_broker(&amp;fix_message).await?;
</span></span></span><span style="display:flex;"><span><span style="color:#95a5a6"></span>    } <span style="color:#728e00">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;‚ùå Order cancelled&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">Ok</span>(())
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">fn</span> <span style="color:#d35400">display_order_summary</span>(<span style="color:#434f54">order</span>: <span style="color:#00979d">&amp;</span><span style="color:#434f54">OrderRequest</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;</span><span style="color:#7f8c8d">\n</span><span style="color:#7f8c8d">üìä Order Summary&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;================&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;Order ID: </span><span style="color:#7f8c8d">{}</span><span style="color:#7f8c8d">&#34;</span>, <span style="color:#434f54">order</span>.<span style="color:#434f54">client_order_id</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;Symbol: </span><span style="color:#7f8c8d">{}</span><span style="color:#7f8c8d">&#34;</span>, <span style="color:#434f54">order</span>.<span style="color:#434f54">symbol</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;Side: </span><span style="color:#7f8c8d">{:?}</span><span style="color:#7f8c8d">&#34;</span>, <span style="color:#434f54">order</span>.<span style="color:#434f54">side</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;Type: </span><span style="color:#7f8c8d">{:?}</span><span style="color:#7f8c8d">&#34;</span>, <span style="color:#434f54">order</span>.<span style="color:#434f54">order_type</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;Quantity: </span><span style="color:#7f8c8d">{}</span><span style="color:#7f8c8d">&#34;</span>, <span style="color:#434f54">order</span>.<span style="color:#434f54">quantity</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">if</span> <span style="color:#728e00">let</span> <span style="color:#728e00">Some</span>(<span style="color:#434f54">price</span>) <span style="color:#728e00">=</span> <span style="color:#434f54">order</span>.<span style="color:#434f54">price</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;Price: $</span><span style="color:#7f8c8d">{}</span><span style="color:#7f8c8d">&#34;</span>, <span style="color:#434f54">price</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;Time in Force: </span><span style="color:#7f8c8d">{:?}</span><span style="color:#7f8c8d">&#34;</span>, <span style="color:#434f54">order</span>.<span style="color:#434f54">time_in_force</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;Account: </span><span style="color:#7f8c8d">{}</span><span style="color:#7f8c8d">&#34;</span>, <span style="color:#434f54">order</span>.<span style="color:#434f54">account</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">println!</span>();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="fix-message-encoding">FIX Message Encoding</h2>
<p>Convert the interactive order into a FIX message:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#728e00">use</span> <span style="color:#434f54">minifix</span>::<span style="color:#434f54">prelude</span>::<span style="color:#728e00">*</span>;
</span></span><span style="display:flex;"><span><span style="color:#728e00">use</span> <span style="color:#434f54">minifix</span>::<span style="color:#434f54">tagvalue</span>::<span style="color:#434f54">Encoder</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">fn</span> <span style="color:#d35400">encode_new_order_single</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">order</span>: <span style="color:#00979d">&amp;</span><span style="color:#434f54">OrderRequest</span>, 
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">seq_num</span>: <span style="color:#00979d">u32</span>
</span></span><span style="display:flex;"><span>) -&gt; <span style="color:#434f54">anyhow</span>::<span style="color:#728e00">Result</span><span style="color:#728e00">&lt;</span><span style="color:#728e00">Vec</span><span style="color:#728e00">&lt;</span><span style="color:#00979d">u8</span><span style="color:#728e00">&gt;&gt;</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">let</span> <span style="color:#728e00">mut</span> <span style="color:#434f54">encoder</span> <span style="color:#728e00">=</span> <span style="color:#434f54">Encoder</span>::<span style="color:#434f54">default</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">let</span> <span style="color:#728e00">mut</span> <span style="color:#434f54">buffer</span> <span style="color:#728e00">=</span> <span style="color:#728e00">Vec</span>::<span style="color:#434f54">new</span>();
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">let</span> <span style="color:#728e00">mut</span> <span style="color:#434f54">msg</span> <span style="color:#728e00">=</span> <span style="color:#434f54">encoder</span>.<span style="color:#434f54">start_message</span>(<span style="color:#7f8c8d">b</span><span style="color:#7f8c8d">&#34;FIX.4.2&#34;</span>, <span style="color:#728e00">&amp;</span><span style="color:#728e00">mut</span> <span style="color:#434f54">buffer</span>, <span style="color:#7f8c8d">b</span><span style="color:#7f8c8d">&#34;D&#34;</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#95a5a6">// Header
</span></span></span><span style="display:flex;"><span><span style="color:#95a5a6"></span>    <span style="color:#434f54">msg</span>.<span style="color:#434f54">set</span>(<span style="color:#434f54">fix42</span>::<span style="color:#434f54">MSG_SEQ_NUM</span>, <span style="color:#434f54">seq_num</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">msg</span>.<span style="color:#434f54">set</span>(<span style="color:#434f54">fix42</span>::<span style="color:#434f54">SENDER_COMP_ID</span>, <span style="color:#728e00">&amp;</span><span style="color:#434f54">order</span>.<span style="color:#434f54">sender_comp_id</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">msg</span>.<span style="color:#434f54">set</span>(<span style="color:#434f54">fix42</span>::<span style="color:#434f54">TARGET_COMP_ID</span>, <span style="color:#728e00">&amp;</span><span style="color:#434f54">order</span>.<span style="color:#434f54">target_comp_id</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#95a5a6">// Timestamp
</span></span></span><span style="display:flex;"><span><span style="color:#95a5a6"></span>    <span style="color:#728e00">let</span> <span style="color:#434f54">timestamp</span> <span style="color:#728e00">=</span> <span style="color:#434f54">Utc</span>::<span style="color:#434f54">now</span>().<span style="color:#434f54">format</span>(<span style="color:#7f8c8d">&#34;%Y%m%d-%H:%M:%S%.3f&#34;</span>).<span style="color:#434f54">to_string</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">msg</span>.<span style="color:#434f54">set</span>(<span style="color:#434f54">fix42</span>::<span style="color:#434f54">SENDING_TIME</span>, <span style="color:#434f54">timestamp</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#95a5a6">// Order details
</span></span></span><span style="display:flex;"><span><span style="color:#95a5a6"></span>    <span style="color:#434f54">msg</span>.<span style="color:#434f54">set</span>(<span style="color:#434f54">fix42</span>::<span style="color:#434f54">CL_ORD_ID</span>, <span style="color:#728e00">&amp;</span><span style="color:#434f54">order</span>.<span style="color:#434f54">client_order_id</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">msg</span>.<span style="color:#434f54">set</span>(<span style="color:#434f54">fix42</span>::<span style="color:#434f54">SYMBOL</span>, <span style="color:#728e00">&amp;</span><span style="color:#434f54">order</span>.<span style="color:#434f54">symbol</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">msg</span>.<span style="color:#434f54">set</span>(<span style="color:#434f54">fix42</span>::<span style="color:#434f54">SIDE</span>, <span style="color:#434f54">order</span>.<span style="color:#434f54">side</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">msg</span>.<span style="color:#434f54">set</span>(<span style="color:#434f54">fix42</span>::<span style="color:#434f54">ORD_TYPE</span>, <span style="color:#434f54">order</span>.<span style="color:#434f54">order_type</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">msg</span>.<span style="color:#434f54">set</span>(<span style="color:#434f54">fix42</span>::<span style="color:#434f54">TIME_IN_FORCE</span>, <span style="color:#434f54">order</span>.<span style="color:#434f54">time_in_force</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">msg</span>.<span style="color:#434f54">set</span>(<span style="color:#434f54">fix42</span>::<span style="color:#434f54">ORDER_QTY</span>, <span style="color:#434f54">order</span>.<span style="color:#434f54">quantity</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">msg</span>.<span style="color:#434f54">set</span>(<span style="color:#434f54">fix42</span>::<span style="color:#434f54">ACCOUNT</span>, <span style="color:#728e00">&amp;</span><span style="color:#434f54">order</span>.<span style="color:#434f54">account</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#95a5a6">// Price (if applicable)
</span></span></span><span style="display:flex;"><span><span style="color:#95a5a6"></span>    <span style="color:#728e00">if</span> <span style="color:#728e00">let</span> <span style="color:#728e00">Some</span>(<span style="color:#434f54">price</span>) <span style="color:#728e00">=</span> <span style="color:#434f54">order</span>.<span style="color:#434f54">price</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">msg</span>.<span style="color:#434f54">set</span>(<span style="color:#434f54">fix42</span>::<span style="color:#434f54">PRICE</span>, <span style="color:#434f54">price</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#95a5a6">// Standard fields
</span></span></span><span style="display:flex;"><span><span style="color:#95a5a6"></span>    <span style="color:#434f54">msg</span>.<span style="color:#434f54">set</span>(<span style="color:#434f54">fix42</span>::<span style="color:#434f54">HANDL_INST</span>, <span style="color:#434f54">fix42</span>::<span style="color:#434f54">HandlInst</span>::<span style="color:#434f54">AutomatedExecutionOrderPrivateNoBrokerIntervention</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">let</span> (<span style="color:#434f54">encoded_message</span>, <span style="color:#434f54">_</span>) <span style="color:#728e00">=</span> <span style="color:#434f54">msg</span>.<span style="color:#434f54">done</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">Ok</span>(<span style="color:#434f54">encoded_message</span>.<span style="color:#434f54">to_vec</span>())
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="main-application-loop">Main Application Loop</h2>
<p>The main loop handles user interaction and session management:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#728e00">#[tokio::main]</span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">async</span> <span style="color:#728e00">fn</span> <span style="color:#d35400">main</span>() -&gt; <span style="color:#434f54">anyhow</span>::<span style="color:#728e00">Result</span><span style="color:#728e00">&lt;</span>()<span style="color:#728e00">&gt;</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;üöÄ miniFIX Interactive Trading Client&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;=====================================&#34;</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">let</span> <span style="color:#728e00">mut</span> <span style="color:#434f54">session</span> <span style="color:#728e00">=</span> <span style="color:#434f54">TradingSession</span>::<span style="color:#434f54">new</span>();
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">loop</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#728e00">match</span> <span style="color:#434f54">prompt_user_action</span>()<span style="color:#728e00">?</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">UserAction</span>::<span style="color:#434f54">EnterOrder</span> <span style="color:#728e00">=&gt;</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#728e00">if</span> <span style="color:#728e00">let</span> <span style="color:#728e00">Err</span>(<span style="color:#434f54">e</span>) <span style="color:#728e00">=</span> <span style="color:#434f54">handle_enter_order</span>(<span style="color:#728e00">&amp;</span><span style="color:#728e00">mut</span> <span style="color:#434f54">session</span>).<span style="color:#728e00">await</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#434f54">eprintln!</span>(<span style="color:#7f8c8d">&#34;‚ùå Error entering order: </span><span style="color:#7f8c8d">{}</span><span style="color:#7f8c8d">&#34;</span>, <span style="color:#434f54">e</span>);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">UserAction</span>::<span style="color:#434f54">ViewPositions</span> <span style="color:#728e00">=&gt;</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#434f54">display_orders</span>(<span style="color:#728e00">&amp;</span><span style="color:#434f54">session</span>.<span style="color:#434f54">orders</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">UserAction</span>::<span style="color:#434f54">CancelOrder</span> <span style="color:#728e00">=&gt;</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#95a5a6">// TODO: Implement order cancellation
</span></span></span><span style="display:flex;"><span><span style="color:#95a5a6"></span>                <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;üöß Order cancellation not implemented yet&#34;</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">UserAction</span>::<span style="color:#434f54">Quit</span> <span style="color:#728e00">=&gt;</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;üëã Goodbye!&#34;</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#728e00">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">println!</span>(); <span style="color:#95a5a6">// Add spacing
</span></span></span><span style="display:flex;"><span><span style="color:#95a5a6"></span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">Ok</span>(())
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">fn</span> <span style="color:#d35400">display_orders</span>(<span style="color:#434f54">orders</span>: <span style="color:#00979d">&amp;</span>[<span style="color:#434f54">OrderRequest</span>]) {
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">if</span> <span style="color:#434f54">orders</span>.<span style="color:#434f54">is_empty</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;üì≠ No orders in this session&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#728e00">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;üìã Current Orders&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;=================&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">for</span> (<span style="color:#434f54">i</span>, <span style="color:#434f54">order</span>) <span style="color:#728e00">in</span> <span style="color:#434f54">orders</span>.<span style="color:#434f54">iter</span>().<span style="color:#434f54">enumerate</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">println!</span>(<span style="color:#7f8c8d">&#34;</span><span style="color:#7f8c8d">{}</span><span style="color:#7f8c8d">. </span><span style="color:#7f8c8d">{}</span><span style="color:#7f8c8d"> </span><span style="color:#7f8c8d">{}</span><span style="color:#7f8c8d"> </span><span style="color:#7f8c8d">{}</span><span style="color:#7f8c8d"> @ </span><span style="color:#7f8c8d">{}</span><span style="color:#7f8c8d">&#34;</span>, 
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">i</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">order</span>.<span style="color:#434f54">symbol</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#728e00">match</span> <span style="color:#434f54">order</span>.<span style="color:#434f54">side</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#434f54">fix42</span>::<span style="color:#434f54">Side</span>::<span style="color:#434f54">Buy</span> <span style="color:#728e00">=&gt;</span> <span style="color:#7f8c8d">&#34;BUY&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#434f54">fix42</span>::<span style="color:#434f54">Side</span>::<span style="color:#434f54">Sell</span> <span style="color:#728e00">=&gt;</span> <span style="color:#7f8c8d">&#34;SELL&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#434f54">_</span> <span style="color:#728e00">=&gt;</span> <span style="color:#7f8c8d">&#34;UNKNOWN&#34;</span>
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">order</span>.<span style="color:#434f54">quantity</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">order</span>.<span style="color:#434f54">price</span>.<span style="color:#434f54">map</span>(<span style="color:#728e00">|</span><span style="color:#434f54">p</span><span style="color:#728e00">|</span> <span style="color:#434f54">p</span>.<span style="color:#434f54">to_string</span>()).<span style="color:#434f54">unwrap_or_else</span>(<span style="color:#728e00">||</span> <span style="color:#7f8c8d">&#34;MARKET&#34;</span>.<span style="color:#434f54">to_string</span>())
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="enhanced-features">Enhanced Features</h2>
<h3 id="input-validation">Input Validation</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#728e00">fn</span> <span style="color:#d35400">validate_symbol</span>(<span style="color:#434f54">symbol</span>: <span style="color:#00979d">&amp;</span><span style="color:#00979d">str</span>) -&gt; <span style="color:#728e00">Result</span><span style="color:#728e00">&lt;</span>(), <span style="color:#728e00">String</span><span style="color:#728e00">&gt;</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">if</span> <span style="color:#434f54">symbol</span>.<span style="color:#434f54">is_empty</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#728e00">return</span> <span style="color:#728e00">Err</span>(<span style="color:#7f8c8d">&#34;Symbol cannot be empty&#34;</span>.<span style="color:#434f54">to_string</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">if</span> <span style="color:#434f54">symbol</span>.<span style="color:#434f54">len</span>() <span style="color:#728e00">&gt;</span> <span style="color:#8a7b52">12</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#728e00">return</span> <span style="color:#728e00">Err</span>(<span style="color:#7f8c8d">&#34;Symbol too long (max 12 characters)&#34;</span>.<span style="color:#434f54">to_string</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">if</span> <span style="color:#728e00">!</span><span style="color:#434f54">symbol</span>.<span style="color:#434f54">chars</span>().<span style="color:#434f54">all</span>(<span style="color:#728e00">|</span><span style="color:#434f54">c</span><span style="color:#728e00">|</span> <span style="color:#434f54">c</span>.<span style="color:#434f54">is_ascii_alphanumeric</span>()) {
</span></span><span style="display:flex;"><span>        <span style="color:#728e00">return</span> <span style="color:#728e00">Err</span>(<span style="color:#7f8c8d">&#34;Symbol must contain only alphanumeric characters&#34;</span>.<span style="color:#434f54">to_string</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">Ok</span>(())
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="configuration-management">Configuration Management</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#728e00">#[derive(Debug, serde::Deserialize)]</span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">pub</span> <span style="color:#728e00">struct</span> <span style="color:#434f54">ClientConfig</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">pub</span> <span style="color:#434f54">sender_comp_id</span>: <span style="color:#728e00">String</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">pub</span> <span style="color:#434f54">target_comp_id</span>: <span style="color:#728e00">String</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">pub</span> <span style="color:#434f54">default_account</span>: <span style="color:#728e00">String</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">pub</span> <span style="color:#434f54">fix_version</span>: <span style="color:#728e00">String</span>,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">impl</span> <span style="color:#434f54">ClientConfig</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">fn</span> <span style="color:#d35400">load</span>() -&gt; <span style="color:#434f54">anyhow</span>::<span style="color:#728e00">Result</span><span style="color:#728e00">&lt;</span><span style="color:#434f54">Self</span><span style="color:#728e00">&gt;</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#728e00">let</span> <span style="color:#434f54">config_str</span> <span style="color:#728e00">=</span> <span style="color:#434f54">std</span>::<span style="color:#434f54">fs</span>::<span style="color:#434f54">read_to_string</span>(<span style="color:#7f8c8d">&#34;client_config.toml&#34;</span>)<span style="color:#728e00">?</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">toml</span>::<span style="color:#434f54">from_str</span>(<span style="color:#728e00">&amp;</span><span style="color:#434f54">config_str</span>).<span style="color:#434f54">map_err</span>(<span style="color:#728e00">Into</span>::<span style="color:#434f54">into</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="async-network-integration">Async Network Integration</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span><span style="color:#728e00">use</span> <span style="color:#434f54">tokio</span>::<span style="color:#434f54">net</span>::<span style="color:#434f54">TcpStream</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">pub</span> <span style="color:#728e00">struct</span> <span style="color:#434f54">FixConnection</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">stream</span>: <span style="color:#434f54">TcpStream</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">encoder</span>: <span style="color:#434f54">Encoder</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#434f54">decoder</span>: <span style="color:#434f54">Decoder</span>,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">impl</span> <span style="color:#434f54">FixConnection</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">pub</span> <span style="color:#728e00">async</span> <span style="color:#728e00">fn</span> <span style="color:#d35400">connect</span>(<span style="color:#434f54">address</span>: <span style="color:#00979d">&amp;</span><span style="color:#00979d">str</span>) -&gt; <span style="color:#434f54">anyhow</span>::<span style="color:#728e00">Result</span><span style="color:#728e00">&lt;</span><span style="color:#434f54">Self</span><span style="color:#728e00">&gt;</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#728e00">let</span> <span style="color:#434f54">stream</span> <span style="color:#728e00">=</span> <span style="color:#434f54">TcpStream</span>::<span style="color:#434f54">connect</span>(<span style="color:#434f54">address</span>).<span style="color:#728e00">await</span><span style="color:#728e00">?</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#728e00">let</span> <span style="color:#434f54">dictionary</span> <span style="color:#728e00">=</span> <span style="color:#434f54">Dictionary</span>::<span style="color:#434f54">fix42</span>();
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#728e00">Ok</span>(<span style="color:#434f54">Self</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">stream</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">encoder</span>: <span style="color:#434f54">Encoder</span>::<span style="color:#434f54">default</span>(),
</span></span><span style="display:flex;"><span>            <span style="color:#434f54">decoder</span>: <span style="color:#434f54">Decoder</span>::<span style="color:#434f54">new</span>(<span style="color:#434f54">dictionary</span>),
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#728e00">pub</span> <span style="color:#728e00">async</span> <span style="color:#728e00">fn</span> <span style="color:#d35400">send_order</span>(<span style="color:#728e00">&amp;</span><span style="color:#728e00">mut</span> <span style="color:#434f54">self</span>, <span style="color:#434f54">order</span>: <span style="color:#00979d">&amp;</span><span style="color:#434f54">OrderRequest</span>, <span style="color:#434f54">seq_num</span>: <span style="color:#00979d">u32</span>) -&gt; <span style="color:#434f54">anyhow</span>::<span style="color:#728e00">Result</span><span style="color:#728e00">&lt;</span>()<span style="color:#728e00">&gt;</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#728e00">let</span> <span style="color:#434f54">message</span> <span style="color:#728e00">=</span> <span style="color:#434f54">encode_new_order_single</span>(<span style="color:#434f54">order</span>, <span style="color:#434f54">seq_num</span>)<span style="color:#728e00">?</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#728e00">use</span> <span style="color:#434f54">tokio</span>::<span style="color:#434f54">io</span>::<span style="color:#434f54">AsyncWriteExt</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#434f54">self</span>.<span style="color:#434f54">stream</span>.<span style="color:#434f54">write_all</span>(<span style="color:#728e00">&amp;</span><span style="color:#434f54">message</span>).<span style="color:#728e00">await</span><span style="color:#728e00">?</span>;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#728e00">Ok</span>(())
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="production-considerations">Production Considerations</h2>
<ol>
<li><strong>Error Recovery</strong>: Implement robust error handling and recovery mechanisms</li>
<li><strong>Session Management</strong>: Handle FIX session logistics (logon, heartbeats, sequence numbers)</li>
<li><strong>Persistence</strong>: Store orders and session state persistently</li>
<li><strong>Security</strong>: Implement proper authentication and encryption</li>
<li><strong>Monitoring</strong>: Add logging and metrics for production use</li>
</ol>
<h2 id="benefits">Benefits</h2>
<ul>
<li><strong>Type Safety</strong>: Compile-time checking of FIX field usage</li>
<li><strong>User Experience</strong>: Intuitive command-line interface with validation</li>
<li><strong>Async Performance</strong>: Non-blocking I/O for real-time trading</li>
<li><strong>Extensibility</strong>: Easy to add new order types and features</li>
<li><strong>Testing</strong>: Interactive interface makes manual testing straightforward</li>
</ul>
<h2 id="next-steps">Next Steps</h2>
<p>This interactive trading client provides a foundation for:</p>
<ul>
<li>Algorithmic trading frontends</li>
<li>Risk management interfaces</li>
<li>Market making tools</li>
<li>Training and simulation systems</li>
</ul>
<p>The combination of miniFIX&rsquo;s type safety, Tokio&rsquo;s async performance, and interactive CLI makes it suitable for both development and production trading environments.</p>
<hr>
<p><strong>Next:</strong> <a href="../../../../../blog/2025/09/21/rust-minifix-tutorial-part-07/">Part 07 - Production Patterns</a></p>




    </div>
    
    
  </div>
</section>

<section class="section">
  <div class="container has-text-centered">
    <p>'I write to understand as much as to be understood.' ‚ÄîElie Wiesel<br> (c) 2024 CryptoPatrick</p>
  </div>
</section>

<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.0/build/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>




</body>
