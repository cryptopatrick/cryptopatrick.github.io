<!DOCTYPE html>
<html lang="en-EN">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=60544&amp;path=livereload" data-no-instant defer></script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta content="keyword 1, keyword 2, keyword 3" name="keywords">
<meta content="CryptoPatrick" name="author">
<meta property="og:title" content="ü¶Ä Everydays: LLM x Debugger - Seamless Global Nature">
<meta property="og:url" content="http://localhost:60544/blog/2025/08/16/everydays-llm-x-debugger/">
<meta property="og:description" content="">
<meta property="og:type" content="website" />


<meta property="og:image" content="http://localhost:60544/img/post-name/name.jpg" />


<title>ü¶Ä Everydays: LLM x Debugger | Seamless Global Nature</title>

<link rel="stylesheet" href="http://localhost:60544//css/style.css">
<link rel="stylesheet" href="http://localhost:60544//css/customcode.css">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<link rel="stylesheet"
      href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.0/build/styles/default.min.css">

</head>

<body>
<section class="section">
  <div class="container">
    <nav class="nav">

 <img src="../../../../../profile.jpg" alt="Avatar" style="margin-right: 1em" height="100px">
      <div class="nav-left" style="flex-basis: auto;">
        <a class="nav-item" href="http://localhost:60544/"><h1 class="title is-4">Seamless Global Nature</h1></a>
      <nav class="nav-item level is-mobile">
          
          
          <a class="level-item" href="http://localhost:60544/about/" style="display: flex; align-items: center;">
            
            <span class="icon" style="margin-right: 0.175em; display: flex; align-items: center;">
              <i class="fa fa-male"></i>
            </span>
            
            About Me
          </a>
          
          <a class="level-item" href="http://localhost:60544/tags/" style="display: flex; align-items: center;">
            
            <span class="icon" style="margin-right: 0.175em; display: flex; align-items: center;">
              <i class="fa fa-tags"></i>
            </span>
            
            Tags
          </a>
          
          <a class="level-item" href="https://100-days-of-vibe.vercel.app" style="display: flex; align-items: center;">
            
            <span class="icon" style="margin-right: 0.175em; display: flex; align-items: center;">
              <i class="fa fa-paper-plane"></i>
            </span>
            
            100DaysOfVibe
          </a>
          
          <a class="level-item" href="https://x.com/cryptopatrick" style="display: flex; align-items: center;">
            
            <span class="icon" style="margin-right: 0.175em; display: flex; align-items: center;">
              <i class="fa fa-twitter"></i>
            </span>
            
             
          </a>
          
          <a class="level-item" href="https://github.com/cryptopatrick?tab=repositories" style="display: flex; align-items: center;">
            
            <span class="icon" style="margin-right: 0.175em; display: flex; align-items: center;">
              <i class="fa fa-github"></i>
            </span>
            
             
          </a>
          
          <a class="level-item" href="https://www.instagram.com/cryptopatrickk/" style="display: flex; align-items: center;">
            
            <span class="icon" style="margin-right: 0.175em; display: flex; align-items: center;">
              <i class="fa fa-instagram"></i>
            </span>
            
             
          </a>
          
        </nav>
      </div>
      <div class="nav-right">
        <nav class="nav-item level is-mobile">
          
        </nav>
      </div>
    </nav>
  </div>
</section>

<section class="section">
  <div class="container">
    <h1 class="title">ü¶Ä Everydays: LLM x Debugger</h1>
    
    
    <h2 class="subtitle is-5">
      August 16, 2025
       by CryptoPatrick
      
        
        <span class="tags-inline" style="margin-left:0.1em;">
          
            
            <a class="tag is-link is-light" href="../../../../../tags/everydays/" style="margin-left:0.25em;">Everydays</a>
          
            
            <a class="tag is-link is-light" href="../../../../../tags/rust/" style="margin-left:0.25em;">Rust</a>
          
        </span>
      
      
    </h2>
    <div class="content">
      <!-- ////////////////////////////////////////////////////////////////////////-->
<p><img src="https://img.shields.io/badge/Work_In_Progress-orange.svg" alt="Version:0.1.0">
<img src="https://img.shields.io/badge/Text_Version-0.4.5-blue.svg" alt="Version:0.1.0">
<img src="https://img.shields.io/badge/Source_Code_Builds-Yes-green.svg" alt="Version:0.1.0"></p>
<!--![Version:0.1.0](https://img.shields.io/badge/Version-0.5.0-white.svg)  -->
<!--[![Version:0.1.0](https://img.shields.io/badge/File-issue-orange.svg)](https://github.com/cryptopatrick/learn_wgpu/issues)-->
<!-- ////////////////////////////////////////////////////////////////////////-->
<br>
<blockquote>
<p><strong>Preface:</strong> In this post we won&rsquo;t be doing much, just intstall Rust and get setup with an editor.</p>
</blockquote>
<blockquote>
<p><strong>Code:</strong> The complete source code is available on my <a href="https://github.com/cryptopatrick/timed_release_crypto">GitHub</a>.</p>
</blockquote>
<!-- ////////////////////////////////////////////////////////////////////////-->
<h2 id="to-send-a-message-into-the-future">To send a message into the future</h2>
<p><figure><img src="../../../../../img/time-lock-message/rebellion.jpg">
</figure>
<br>
<strong>‚ñ≤[^1]</strong> A Rebel ship orbiting above the Federation&rsquo;s top secret military research lab, <em>The Periphery</em>.</p>
<p>‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä This is a paragraph.
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä This is another paragraph.</p>
<p><strong>The Future</strong></p>
<p>If we&rsquo;re trying to send a message into the future, then we need to spend some</p>
<!-- ////////////////////////////////////////////////////////////////////////-->
<h3 id="title">Title</h3>
<p>LLM in the Debugger</p>
<p>There is one more place I thought I could integrate the LLM with Lisp and that is in the debugger. The idea is to have the LLM have gander at the error and suggest a fix before you get dropped into the debugger as usual. The mechanism is pretty straightforward. You use the debugger hook to call the LLM with the error message and a backtrace and tell it you&rsquo;d like a diagnosis and a suggested fix. You also tell it that it can use its tools to inspect the Lisp environment. Then you cross your fingers and hope that the LLM has some luck. At the very least you get a second opinion on your error.</p>
<p>I had some difficulty with this because SLIME smashes the <em>debugger-hook</em> on each interaction. Eventually I settled for a macro that you can wrap your code with. with-llm-debugger binds <em>debugger-hook</em> to the LLM debugger before running the body of the macro. Let&rsquo;s see it in action:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lisp" data-lang="lisp"><span style="display:flex;"><span>(<span style="color:#728e00">defun</span> <span style="color:#434f54">my-average</span> (<span style="color:#434f54">list</span>) (<span style="color:#d35400">/</span> (<span style="color:#d35400">reduce</span> <span style="color:#d35400">#&#39;+</span> <span style="color:#434f54">list</span>) (<span style="color:#d35400">length</span> <span style="color:#434f54">list</span>)))
</span></span></code></pre></div><p>Now let&rsquo;s make the mistake of thinking it takes a &amp;rest argument:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lisp" data-lang="lisp"><span style="display:flex;"><span><span style="color:#d35400">&gt;</span> (<span style="color:#434f54">with-llm-debugger</span> (<span style="color:#434f54">my-average</span> <span style="color:#8a7b52">2</span> <span style="color:#8a7b52">3</span> <span style="color:#8a7b52">4</span>))
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">; in: GEMINI::WITH-LLM-DEBUGGER (MY-AVERAGE 2 3 4)</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;     (MY-AVERAGE 2 3 4)</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">; </span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">; caught STYLE-WARNING:</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;   The function MY-AVERAGE is called with three arguments, but wants exactly one.</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">; </span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">; compilation unit finished</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;   caught 1 STYLE-WARNING condition</span>
</span></span><span style="display:flex;"><span><span style="color:#434f54">An</span> <span style="color:#434f54">unhandled</span> <span style="color:#00979d">error</span> <span style="color:#00979d">condition</span> <span style="color:#434f54">has</span> <span style="color:#434f54">been</span> <span style="color:#434f54">signalled:</span> <span style="color:#434f54">invalid</span> <span style="color:#434f54">number</span> <span style="color:#434f54">of</span> <span style="color:#434f54">arguments:</span> <span style="color:#8a7b52">3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;;</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; **Troubleshooting a Lisp Argument Error**</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;;</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; Okay, so I&#39;ve got this Common Lisp error message: &#34;invalid number of arguments:</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; 3&#34;.  And the backtrace pinpoints `MY-AVERAGE` as the culprit, called with the arguments</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; `2 3 4`. Hmm, that&#39;s pretty straightforward. The function `MY-AVERAGE` was called</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; with three arguments, but it wasn&#39;t expecting them.</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;;</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; The next step, naturally, is to figure out what `MY-AVERAGE` *does* expect.  Since</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; I don&#39;t have direct access to the user&#39;s code, I&#39;ll need to query the Lisp environment</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; itself. The best way to do that is to use the `default_api.describe` function on</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; the symbol `MY-AVERAGE`. This should give me its definition, which will include</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; its expected argument list.</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;;</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; Once I have that argument list, the fix should be obvious.  Either the arguments</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; being passed are wrong, or the `MY-AVERAGE` function needs a definition adjustment.</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;;  I&#39;m ready to proceed, query the environment, and get to the root of this.</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;;</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; Processing function call: describe</span>
</span></span></code></pre></div><p>The LLM has decided to call into Lisp. The describe function is a tool that is just a wrapper around the Lisp describe function. It takes a symbol and returns whatever the Lisp describe function returns.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lisp" data-lang="lisp"><span style="display:flex;"><span><span style="color:#95a5a6">;; **Understanding the `MY-AVERAGE` Function Call Error**</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;;</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; Okay, so looking at this, it seems the problem is pretty straightforward. `describe`</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; clearly tells me that `MY-AVERAGE` is a compiled function and that it&#39;s expecting</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; a single argument, which it&#39;s calling `LIST`. I can see from the backtrace that</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; I attempted to call it with the individual numbers 2, 3, and 4. The error message</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; makes perfect sense now. I provided three separate arguments, but the function&#39;s</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; definition only allows for a single argument: a list.</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;;</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; Essentially, I need to wrap those numbers in a list before passing them to the</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; function. Instead of calling it with `(MY-AVERAGE 2 3 4)`, I should have been using</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; `(MY-AVERAGE &#39;(2 3 4))`. That way, the function receives a single list containing</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; the elements it expects. A classic case of mismatched expectations between function</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; definition and invocation! I&#39;ll update the calling code and that should resolve</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;; the issue.</span>
</span></span><span style="display:flex;"><span><span style="color:#95a5a6">;;</span>
</span></span></code></pre></div><p>So those are the LLM&rsquo;s ‚Äúthoughts‚Äù on the error. Here is its diagnosis and conclusion:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lisp" data-lang="lisp"><span style="display:flex;"><span><span style="color:#434f54">The</span> <span style="color:#00979d">error</span> <span style="color:#7f8c8d">&#34;invalid number of arguments: 3&#34;</span> <span style="color:#434f54">for</span> <span style="color:#728e00">`</span><span style="color:#434f54">MY-AVERAGE</span><span style="color:#728e00">`</span>
</span></span><span style="display:flex;"><span><span style="color:#434f54">occurred</span> <span style="color:#434f54">because</span> <span style="color:#728e00">the</span> <span style="color:#728e00">`</span><span style="color:#434f54">MY-AVERAGE</span><span style="color:#728e00">`</span> <span style="color:#434f54">function</span> <span style="color:#434f54">expects</span> <span style="color:#434f54">a</span> <span style="color:#434f54">single</span> <span style="color:#434f54">argument,</span>
</span></span><span style="display:flex;"><span><span style="color:#434f54">which</span> <span style="color:#434f54">should</span> <span style="color:#434f54">be</span> <span style="color:#434f54">a</span> <span style="color:#434f54">list,</span> <span style="color:#434f54">as</span> <span style="color:#434f54">indicated</span> <span style="color:#434f54">by</span> <span style="color:#434f54">its</span> <span style="color:#728e00">lambda</span> <span style="color:#434f54">list</span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">`</span>(<span style="color:#434f54">LIST</span>)<span style="color:#728e00">`.</span> <span style="color:#434f54">However,</span> <span style="color:#434f54">it</span> <span style="color:#434f54">was</span> <span style="color:#434f54">called</span> <span style="color:#434f54">with</span> <span style="color:#434f54">three</span> <span style="color:#434f54">separate</span> <span style="color:#434f54">arguments:</span> <span style="color:#728e00">`</span><span style="color:#8a7b52">2</span><span style="color:#728e00">`,</span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">`</span><span style="color:#8a7b52">3</span><span style="color:#728e00">`,</span> <span style="color:#728e00">and</span> <span style="color:#728e00">`</span><span style="color:#8a7b52">4</span><span style="color:#728e00">`.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#434f54">**Diagnosis:**</span>
</span></span><span style="display:flex;"><span><span style="color:#434f54">The</span> <span style="color:#434f54">function</span> <span style="color:#728e00">`</span><span style="color:#434f54">MY-AVERAGE</span><span style="color:#728e00">`</span> <span style="color:#434f54">is</span> <span style="color:#434f54">defined</span> <span style="color:#434f54">as:</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#728e00">```</span><span style="color:#434f54">commonlisp</span>
</span></span><span style="display:flex;"><span>(<span style="color:#434f54">LAMBDA</span> (<span style="color:#434f54">LIST</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#434f54">BLOCK</span> <span style="color:#434f54">MY-AVERAGE</span> (<span style="color:#d35400">/</span> (<span style="color:#434f54">REDUCE</span> <span style="color:#d35400">#&#39;+</span> <span style="color:#434f54">LIST</span>) (<span style="color:#434f54">LENGTH</span> <span style="color:#434f54">LIST</span>))))
</span></span></code></pre></div><p>;; Prompt Tokens:       4316
;; Thoughts Tokens:      227
;; Candidate Tokens:     223
;; Total Tokens:        4766
;; Prompt Tokens:       3959
;; Thoughts Tokens:      209
;; Candidate Tokens:      16
;; Total Tokens:        4184
LLM Debugger Response:
This definition clearly shows that <code>MY-AVERAGE</code> is intended to take a single argument named <code>LIST</code>.</p>
<p><strong>Suggested Fix:</strong>
To correctly use <code>MY-AVERAGE</code> to calculate the
average of 2, 3, and 4, you need to pass these numbers as a single
list argument.</p>
<p>Change the call from:
<code>(MY-AVERAGE 2 3 4)</code></p>
<p>To:
<code>(MY-AVERAGE '(2 3 4))</code></p>
<pre tabindex="0"><code>
Not too bad, I guess. But I&#39;d have to put it through its paces on real errors before I could say how useful it is. 

__List of topics to cover (briefly):__    
[ ] Carmicheal Numbers and the need for primality testing of huge numbers  
[x] Probabilitic Primality Testing with Rabin-Miller  

|Step|Process|
|:--:|:---|
|[0.](#step-0-preparing-the-payload) |Gather message data, calculate time-lock duration, estimate attacker&#39;s squaring power|
|[1.](#step-1-compute-the-composite-modulus) |Choose two secret primes, $p$ and $q$, and compute the composite modulus: $n=p \cdot q$|

**‚ñ≤** The seven steps of creating a Time-Lock Puzzle.

---

# ü¶Ä Implementation

&lt;!-- ////////////////////////////////////////////////////////////////////////--&gt;
#### Step 0: Preparing the Payload

$M$: __Message to Protect__  
Dr. Angela Rae, and her team of fellow researchers, have quickly collected all 

[^1]: Ai-generated image of Rebel spaceship.
[^2]: [Image: Ilmari Kumpunen, Returnal Video Game](https://www.artstation.com/artwork/Ga06Rz)
</code></pre>



    </div>
    
    
  </div>
</section>

<section class="section">
  <div class="container has-text-centered">
    <p>'I write to understand as much as to be understood.' ‚ÄîElie Wiesel<br> (c) 2024 CryptoPatrick</p>
  </div>
</section>

<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.0/build/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>




</body>
